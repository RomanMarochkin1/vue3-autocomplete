{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withModifiers as _withModifiers, withKeys as _withKeys, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-402c342f\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"ven-autocomplete\"\n};\nvar _hoisted_2 = {\n  \"class\": \"ven-autocomplete__input\"\n};\nvar _hoisted_3 = [\"onClick\"];\nvar _hoisted_4 = [\"placeholder\"];\nvar _hoisted_5 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"ven-autocomplete__dropdown\"\n  }, null, -1 /* HOISTED */);\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.modelValue, function (item, ind) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      \"class\": \"ven-autocomplete__selected\",\n      key: 'vv' + ind\n    }, [_createTextVNode(_toDisplayString(item) + \" \", 1 /* TEXT */), _createElementVNode(\"div\", {\n      \"class\": \"ven-autocomplete__close\",\n      onClick: function onClick($event) {\n        return _ctx.removeIndex(ind);\n      }\n    }, null, 8 /* PROPS */, _hoisted_3)]);\n  }), 128 /* KEYED_FRAGMENT */)), _withDirectives(_createElementVNode(\"input\", {\n    ref: \"venAutocomplete\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.inputData = $event;\n    }),\n    autocomplete: \"off\",\n    placeholder: _ctx.placeholder,\n    type: \"text\",\n    onInput: _cache[1] || (_cache[1] = function () {\n      return _ctx.goType && _ctx.goType.apply(_ctx, arguments);\n    }),\n    onKeydown: _cache[2] || (_cache[2] = _withKeys(_withModifiers(function () {\n      return _ctx.goEnter && _ctx.goEnter.apply(_ctx, arguments);\n    }, [\"prevent\"]), [\"enter\"])),\n    \"class\": \"ven-autocomplete__field\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4), [[_vModelText, _ctx.inputData]])]), _hoisted_5]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","_ctx","modelValue","item","ind","key","onClick","$event","removeIndex","ref","inputData","autocomplete","placeholder","type","onInput","_cache","goType","apply","arguments","onKeydown","_withKeys","_withModifiers","goEnter","_hoisted_5"],"sources":["/Users/venegrad/Projects/@venegrad/autocomplete/src/ven-autocomplete.vue"],"sourcesContent":["<template>\n\t<div class=\"ven-autocomplete\">\n\t\t<div class=\"ven-autocomplete__input\">\n\t\t\t<div class=\"ven-autocomplete__selected\" v-for=\"(item, ind) in modelValue\" :key=\"'vv'+ind\">\n\t\t\t\t{{  item  }}\n\t\t\t\t<div class=\"ven-autocomplete__close\" @click=\"removeIndex(ind)\"></div>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tref=\"venAutocomplete\"\n\t\t\t\tv-model=\"inputData\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t@input=\"goType\"\n\t\t\t\t@keydown.enter.prevent=\"goEnter\"\n\t\t\t\tclass=\"ven-autocomplete__field\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"ven-autocomplete__dropdown\">\n\n\t\t</div>\n\t</div>\n</template>\n\n\t<!-- \n\t\t:placeholder=\"placeholder\"\n\t\tv-model=\"input\"\n\t\t@input=\"onInput\"\n\t\t@focus=\"onFocus\"\n\t\t@blur=\"onBlur\"\n\t\t@keydown.down.prevent=\"onArrowDown\"\n\t\t@keydown.up.prevent=\"onArrowUp\"\n\t\t\n\t\t@keydown.tab.prevent=\"selectCurrentSelectionTab\" \n\t-->\n\n<script>\n\timport { defineComponent } from 'vue';\n\n\texport default /*#__PURE__*/ defineComponent({\n\t\tname: 'autocomplete',\n\t\temits: ['update:modelValue'],\n\t\tprops: {\n\t\t\tdisabledSymobols: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\tminWords: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\ttype: [String, Number]\n\t\t\t},\n\t\t\taviableSpace: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => []\n\t\t\t},\n\t\t\tmodelValue: {\n\t\t\t\ttype: [Array, String, Number],\n\t\t\t\tdefault: () => []\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinputData: null\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tremoveIndex(i) {\n\t\t\t\tconst fst = this.modelValue.filter((el, ind) => ind !== i)\n\t\t\t\tthis.$emit('update:modelValue', fst)\n\t\t\t},\n\t\t\tgoEnter() {\n\n\t\t\t},\n\t\t\thendeHoh() {\n\t\t\t\tthis.inputData = this.inputData.replaceAll(\",\",\"\")\n\t\t\t\tif(!this.modelValue) {\n\t\t\t\t\tthis.$emit('update:modelValue', [this.inputData])\n\t\t\t\t} else {\n\t\t\t\t\tconst fst = [...this.modelValue, this.inputData]\n\t\t\t\t\tthis.$emit('update:modelValue', fst)\n\t\t\t\t}\n\t\t\t\tthis.inputData = null\n\t\t\t},\n\t\t\tgoType(e) {\n\t\t\t\t// Disable symbols\n\t\t\t\tif(this.disabledSymobols) [...this.disabledSymobols].forEach(el => this.inputData = this.inputData.replaceAll(el, \"\"))\n\n\t\t\t\t// Long live if\n\t\t\t\tif((e.data === \",\" || (this.inputData && this.inputData.includes(\",\")) ) && /[^,]/.test(this.inputData)) {\n\t\t\t\t\thendeHoh();\n\t\t\t\t} else if (!/[^,]/.test(this.inputData)) {\n\t\t\t\t\tthis.inputData = null\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\tcomputed: {\n\t\t\t\n\t\t},\n\t});\n</script>\n\n<style scoped>\n.ven-autocomplete {\n\tposition: relative;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tfont-family: 'Tahoma';\n}\n\n.ven-autocomplete * {\n\tbox-sizing: border-box;\n}\n\n.ven-autocomplete__close {\n\tposition: absolute;\n\tright: 4px;\n\ttop: 50%;\n\tmargin-top: -11px;\n\theight: 100%;\n\tdisplay: flex;\n\tcursor: pointer;\n\twidth: 22px;\n\tuser-select: none;\n\theight: 22px;\n\tborder-radius: 50%;\n\ttransition: all 0.25s ease;\n\t&:hover {\n\t\tbackground-color: rgba(255,255,255,0.2);\n\t}\n}\n\n.ven-autocomplete__close:before, .ven-autocomplete__close:after {\n\twidth: 16px;\n\theight: 2px;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\tmargin-top: -1px;\n\tbackground-color: #fff;\n\tdisplay: block;\n\tmargin-left: -8px;\n\tcontent: '';\n}\n\n.ven-autocomplete__close:before {\n\ttransform: rotate(-45deg);\n}\n\n.ven-autocomplete__close:after {\n\ttransform: rotate(45deg);\n}\n\n.ven-autocomplete__input {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tborder: 2px solid rgba(255,255,255,0.2);\n\tmin-height: 44px; \n\tpadding: 3px;\n\tborder-radius: 12px;\n\talign-items: center;\n}\n\n.ven-autocomplete__selected {\n\tpadding: 4px 34px 4px 10px;\n\tposition: relative;\n\tbackground-color: rgba(255,255,255,0.3);\n\tcolor: #fff;\n\tborder-radius: 10px;\n\tfont-size: 14px;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: 28px;\n\tmargin: 3px;\n\n}\n\n.ven-autocomplete__field {\n\twidth: auto;\n\tflex-grow: 1;\n\tappearance: none;\n\tborder: 0;\n\tfont-size: 14px;\n\tmin-height: 28px;\n\tbackground: transparent;\n\toutline: none;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tmargin: 3px;\n\tcolor: #fff;\n\tmin-width: 30%;\n}\n</style>\n"],"mappings":";;;;;EACM,SAAM;AAAkB;;EACvB,SAAM;AAAyB;;;;sBAgBpCA,mBAAA,CAEM;IAFD,SAAM;EAA4B;AAAA;;;uBAjBxCC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBLF,mBAAA,CAeM,OAfNG,UAeM,I,kBAdLF,mBAAA,CAGMG,SAAA,QAAAC,WAAA,CAHwDC,IAAA,CAAAC,UAAU,YAAxBC,IAAI,EAAEC,GAAG;yBAAzDR,mBAAA,CAGM;MAHD,SAAM,4BAA4B;MAAoCS,GAAG,SAAOD;0CAChFD,IAAI,IAAI,GACZ,iBAAAR,mBAAA,CAAqE;MAAhE,SAAM,yBAAyB;MAAEW,OAAK,WAAAA,QAAAC,MAAA;QAAA,OAAEN,IAAA,CAAAO,WAAW,CAACJ,GAAG;MAAA;;kDAE7DT,mBAAA,CASE;IARDc,GAAG,EAAC,iBAAiB;;aACZR,IAAA,CAAAS,SAAS,GAAAH,MAAA;IAAA;IAClBI,YAAY,EAAC,KAAK;IACjBC,WAAW,EAAEX,IAAA,CAAAW,WAAW;IACzBC,IAAI,EAAC,MAAM;IACVC,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEd,IAAA,CAAAe,MAAA,IAAAf,IAAA,CAAAe,MAAA,CAAAC,KAAA,CAAAhB,IAAA,EAAAiB,SAAA,CAAM;IAAA;IACbC,SAAO,EAAAJ,MAAA,QAAAA,MAAA,MAAAK,SAAA,CAAAC,cAAA;MAAA,OAAgBpB,IAAA,CAAAqB,OAAA,IAAArB,IAAA,CAAAqB,OAAA,CAAAL,KAAA,CAAAhB,IAAA,EAAAiB,SAAA,CAAO;IAAA;IAC/B,SAAM;uEANGjB,IAAA,CAAAS,SAAS,E,KASpBa,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}