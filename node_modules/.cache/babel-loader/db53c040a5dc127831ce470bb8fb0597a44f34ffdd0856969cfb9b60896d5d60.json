{"ast":null,"code":"import _toConsumableArray from \"/Users/venegrad/Projects/@venegrad/autocomplete/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.replace-all.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { defineComponent } from 'vue';\nexport default /*#__PURE__*/defineComponent({\n  name: 'autocomplete',\n  emits: ['update:modelValue'],\n  props: {\n    disabledSymobols: {\n      type: String\n    },\n    minWords: {\n      type: Number,\n      \"default\": 0\n    },\n    placeholder: {\n      type: [String, Number]\n    },\n    aviableSpace: {\n      type: Boolean,\n      \"default\": true\n    },\n    list: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    modelValue: {\n      type: [Array, String, Number],\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  },\n  mounted: function mounted() {},\n  data: function data() {\n    return {\n      inputData: null\n    };\n  },\n  methods: {\n    removeLast: function removeLast() {\n      if (this.inputData) return;\n      var fst = this.modelValue.shift();\n      this.$emit('update:modelValue', fst);\n    },\n    removeIndex: function removeIndex(i) {\n      var fst = this.modelValue.filter(function (el, ind) {\n        return ind !== i;\n      });\n      this.$emit('update:modelValue', fst);\n    },\n    goEnter: function goEnter() {\n      this.hendeHoh();\n    },\n    hendeHoh: function hendeHoh() {\n      if (!this.inputData) return;\n      this.inputData = this.inputData.replaceAll(\",\", \"\");\n      if (!this.modelValue) {\n        this.$emit('update:modelValue', [this.inputData]);\n      } else {\n        var fst = [].concat(_toConsumableArray(this.modelValue), [this.inputData]);\n        this.$emit('update:modelValue', fst);\n      }\n      this.inputData = null;\n    },\n    goType: function goType(e) {\n      var _this = this;\n      // Disable symbols\n      if (this.disabledSymobols) _toConsumableArray(this.disabledSymobols).forEach(function (el) {\n        return _this.inputData = _this.inputData.replaceAll(el, \"\");\n      });\n\n      // Long live if, what do u do, haha\n      if ((e.data === \",\" || this.inputData && this.inputData.includes(\",\")) && /[^,]/.test(this.inputData)) {\n        this.hendeHoh();\n      } else if (!/[^,]/.test(this.inputData)) {\n        this.inputData = null;\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","name","emits","props","disabledSymobols","type","String","minWords","Number","placeholder","aviableSpace","Boolean","list","Array","_default","modelValue","mounted","data","inputData","methods","removeLast","fst","shift","$emit","removeIndex","i","filter","el","ind","goEnter","hendeHoh","replaceAll","concat","_toConsumableArray","goType","e","_this","forEach","includes","test"],"sources":["/Users/venegrad/Projects/@venegrad/autocomplete/src/ven-autocomplete.vue"],"sourcesContent":["<template>\n\t<div class=\"ven-autocomplete\">\n\t\t<div class=\"ven-autocomplete__input\">\n\t\t\t<div class=\"ven-autocomplete__selected\" v-for=\"(item, ind) in modelValue\" :key=\"'vv'+ind\">\n\t\t\t\t{{  item  }}\n\t\t\t\t<div class=\"ven-autocomplete__close\" @click=\"removeIndex(ind)\"></div>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tref=\"venAutocomplete\"\n\t\t\t\tv-model=\"inputData\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t@input=\"goType\"\n\t\t\t\t@keydown.enter.prevent=\"goEnter\"\n\t\t\t\t@keydown.tab.prevent=\"goEnter\" \n\t\t\t\t@keydown.backspace=\"removeLast\" \n\t\t\t\tclass=\"ven-autocomplete__field\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"ven-autocomplete__dropdown\">\n\n\t\t</div>\n\t</div>\n</template>\n\n\t<!-- \n\t\t:placeholder=\"placeholder\"\n\t\tv-model=\"input\"\n\t\t@input=\"onInput\"\n\t\t@focus=\"onFocus\"\n\t\t@blur=\"onBlur\"\n\t\t@keydown.down.prevent=\"onArrowDown\"\n\t\t@keydown.up.prevent=\"onArrowUp\"\n\t\t\n\t\t\n\t-->\n\n<script>\n\timport { defineComponent } from 'vue';\n\n\texport default /*#__PURE__*/ defineComponent({\n\t\tname: 'autocomplete',\n\t\temits: ['update:modelValue'],\n\t\tprops: {\n\t\t\tdisabledSymobols: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\tminWords: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\ttype: [String, Number]\n\t\t\t},\n\t\t\taviableSpace: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => []\n\t\t\t},\n\t\t\tmodelValue: {\n\t\t\t\ttype: [Array, String, Number],\n\t\t\t\tdefault: () => []\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinputData: null\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tremoveLast() {\n\t\t\t\tif(this.inputData) return\n\n\t\t\t\tconst fst = this.modelValue.shift()\n\t\t\t\tthis.$emit('update:modelValue', fst)\n\n\t\t\t},\n\t\t\tremoveIndex(i) {\n\t\t\t\tconst fst = this.modelValue.filter((el, ind) => ind !== i)\n\t\t\t\tthis.$emit('update:modelValue', fst)\n\t\t\t},\n\t\t\tgoEnter() {\n\t\t\t\tthis.hendeHoh();\n\t\t\t},\n\t\t\thendeHoh() {\n\t\t\t\tif(!this.inputData) return\n\t\t\t\tthis.inputData = this.inputData.replaceAll(\",\",\"\")\n\t\t\t\tif(!this.modelValue) {\n\t\t\t\t\tthis.$emit('update:modelValue', [this.inputData])\n\t\t\t\t} else {\n\t\t\t\t\tconst fst = [...this.modelValue, this.inputData]\n\t\t\t\t\tthis.$emit('update:modelValue', fst)\n\t\t\t\t}\n\t\t\t\tthis.inputData = null\n\t\t\t},\n\t\t\tgoType(e) {\n\t\t\t\t// Disable symbols\n\t\t\t\tif(this.disabledSymobols) [...this.disabledSymobols].forEach(el => this.inputData = this.inputData.replaceAll(el, \"\"))\n\n\t\t\t\t// Long live if, what do u do, haha\n\t\t\t\tif((e.data === \",\" || (this.inputData && this.inputData.includes(\",\")) ) && /[^,]/.test(this.inputData)) {\n\t\t\t\t\tthis.hendeHoh();\n\t\t\t\t} else if (!/[^,]/.test(this.inputData)) {\n\t\t\t\t\tthis.inputData = null\n\t\t\t\t}\n\t\t\t} \n\t\t}\n\t});\n</script>\n\n<style scoped>\n.ven-autocomplete {\n\tposition: relative;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tfont-family: 'Tahoma';\n}\n\n.ven-autocomplete * {\n\tbox-sizing: border-box;\n}\n\n.ven-autocomplete__close {\n\tposition: absolute;\n\tright: 4px;\n\ttop: 50%;\n\tmargin-top: -11px;\n\theight: 100%;\n\tdisplay: flex;\n\tcursor: pointer;\n\twidth: 22px;\n\tuser-select: none;\n\theight: 22px;\n\tborder-radius: 50%;\n\ttransition: all 0.25s ease;\n\t&:hover {\n\t\tbackground-color: rgba(255,255,255,0.2);\n\t}\n}\n\n.ven-autocomplete__close:before, .ven-autocomplete__close:after {\n\twidth: 16px;\n\theight: 2px;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\tmargin-top: -1px;\n\tbackground-color: #fff;\n\tdisplay: block;\n\tmargin-left: -8px;\n\tcontent: '';\n}\n\n.ven-autocomplete__close:before {\n\ttransform: rotate(-45deg);\n}\n\n.ven-autocomplete__close:after {\n\ttransform: rotate(45deg);\n}\n\n.ven-autocomplete__input {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tborder: 2px solid rgba(255,255,255,0.2);\n\tmin-height: 44px; \n\tpadding: 3px;\n\tborder-radius: 12px;\n\talign-items: center;\n}\n\n.ven-autocomplete__selected {\n\tpadding: 4px 34px 4px 10px;\n\tposition: relative;\n\tbackground-color: rgba(255,255,255,0.3);\n\tcolor: #fff;\n\tborder-radius: 10px;\n\tfont-size: 14px;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: 28px;\n\tmargin: 3px;\n\n}\n\n.ven-autocomplete__field {\n\twidth: auto;\n\tflex-grow: 1;\n\tappearance: none;\n\tborder: 0;\n\tfont-size: 14px;\n\tmin-height: 28px;\n\tbackground: transparent;\n\toutline: none;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tmargin: 3px;\n\tcolor: #fff;\n\tmin-width: 30%;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}