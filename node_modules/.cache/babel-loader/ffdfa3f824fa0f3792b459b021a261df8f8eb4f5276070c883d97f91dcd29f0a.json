{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport { defineComponent } from 'vue';\nexport default /*#__PURE__*/defineComponent({\n  name: 'autocomplete',\n  emits: ['onInput', 'onFocus', 'onBlur', 'selectItem'],\n  inheritAttrs: false,\n  props: {\n    id: {\n      type: String\n    },\n    placeholder: {\n      type: String,\n      \"default\": ''\n    },\n    items: {\n      type: Array,\n      required: true\n    },\n    defaultItem: {\n      \"default\": null\n    },\n    itemProjection: {\n      type: Function,\n      \"default\": function _default(item) {\n        return item;\n      }\n    },\n    minInputLength: {\n      type: Number,\n      \"default\": 2,\n      validator: function validator(prop) {\n        return prop >= 0;\n      }\n    },\n    minItemLength: {\n      type: Number,\n      \"default\": 0,\n      validator: function validator(prop) {\n        return prop >= 0;\n      }\n    },\n    selectOnTab: {\n      type: Boolean,\n      \"default\": true\n    }\n  },\n  mounted: function mounted() {\n    if (this.defaultItem !== undefined && this.defaultItem !== null) {\n      this.selectItem(this.defaultItem);\n    }\n  },\n  data: function data() {\n    return {\n      inputId: this.id || \"simple_typeahead_\".concat((Math.random() * 1000).toFixed()),\n      input: '',\n      isInputFocused: false,\n      currentSelectionIndex: 0\n    };\n  },\n  methods: {\n    onInput: function onInput() {\n      if (this.isListVisible && this.currentSelectionIndex >= this.filteredItems.length) {\n        this.currentSelectionIndex = (this.filteredItems.length || 1) - 1;\n      }\n      this.$emit('onInput', {\n        input: this.input,\n        items: this.filteredItems\n      });\n    },\n    onFocus: function onFocus() {\n      this.isInputFocused = true;\n      this.$emit('onFocus', {\n        input: this.input,\n        items: this.filteredItems\n      });\n    },\n    onBlur: function onBlur() {\n      this.isInputFocused = false;\n      this.$emit('onBlur', {\n        input: this.input,\n        items: this.filteredItems\n      });\n    },\n    onArrowDown: function onArrowDown($event) {\n      if (this.isListVisible && this.currentSelectionIndex < this.filteredItems.length - 1) {\n        this.currentSelectionIndex++;\n      }\n      this.scrollSelectionIntoView();\n    },\n    onArrowUp: function onArrowUp($event) {\n      if (this.isListVisible && this.currentSelectionIndex > 0) {\n        this.currentSelectionIndex--;\n      }\n      this.scrollSelectionIntoView();\n    },\n    scrollSelectionIntoView: function scrollSelectionIntoView() {\n      var _this = this;\n      setTimeout(function () {\n        var list_node = document.querySelector(\"#\".concat(_this.wrapperId, \" .simple-typeahead-list\"));\n        var active_node = document.querySelector(\"#\".concat(_this.wrapperId, \" .simple-typeahead-list-item.simple-typeahead-list-item-active\"));\n        if (!(active_node.offsetTop >= list_node.scrollTop && active_node.offsetTop + active_node.offsetHeight < list_node.scrollTop + list_node.offsetHeight)) {\n          var scroll_to = 0;\n          if (active_node.offsetTop > list_node.scrollTop) {\n            scroll_to = active_node.offsetTop + active_node.offsetHeight - list_node.offsetHeight;\n          } else if (active_node.offsetTop < list_node.scrollTop) {\n            scroll_to = active_node.offsetTop;\n          }\n          list_node.scrollTo(0, scroll_to);\n        }\n      });\n    },\n    selectCurrentSelection: function selectCurrentSelection() {\n      if (this.currentSelection) {\n        this.selectItem(this.currentSelection);\n      }\n    },\n    selectCurrentSelectionTab: function selectCurrentSelectionTab() {\n      if (this.selectOnTab) {\n        this.selectCurrentSelection();\n      } else {\n        this.$refs.inputRef.blur();\n      }\n    },\n    selectItem: function selectItem(item) {\n      this.input = this.itemProjection(item);\n      this.currentSelectionIndex = 0;\n      this.$refs.inputRef.blur();\n      this.$emit('selectItem', item);\n    },\n    escapeRegExp: function escapeRegExp(string) {\n      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    },\n    boldMatchText: function boldMatchText(text) {\n      var regexp = new RegExp(\"(\".concat(this.escapeRegExp(this.input), \")\"), 'ig');\n      return text.replace(regexp, '<strong>$1</strong>');\n    },\n    clearInput: function clearInput() {\n      this.input = '';\n    },\n    getInput: function getInput() {\n      return this.$refs.inputRef;\n    },\n    focusInput: function focusInput() {\n      this.$refs.inputRef.focus();\n      this.onFocus();\n    },\n    blurInput: function blurInput() {\n      this.$refs.inputRef.blur();\n      this.onBlur();\n    }\n  },\n  computed: {\n    wrapperId: function wrapperId() {\n      return \"\".concat(this.inputId, \"_wrapper\");\n    },\n    filteredItems: function filteredItems() {\n      var _this2 = this;\n      var regexp = new RegExp(this.escapeRegExp(this.input), 'i');\n      return this.items.filter(function (item) {\n        return _this2.itemProjection(item).match(regexp);\n      });\n    },\n    isListVisible: function isListVisible() {\n      return this.isInputFocused && this.input.length >= this.minInputLength && this.filteredItems.length > this.minItemLength;\n    },\n    currentSelection: function currentSelection() {\n      return this.isListVisible && this.currentSelectionIndex < this.filteredItems.length ? this.filteredItems[this.currentSelectionIndex] : undefined;\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","name","emits","inheritAttrs","props","id","type","String","placeholder","items","Array","required","defaultItem","itemProjection","Function","_default","item","minInputLength","Number","validator","prop","minItemLength","selectOnTab","Boolean","mounted","undefined","selectItem","data","inputId","concat","Math","random","toFixed","input","isInputFocused","currentSelectionIndex","methods","onInput","isListVisible","filteredItems","length","$emit","onFocus","onBlur","onArrowDown","$event","scrollSelectionIntoView","onArrowUp","_this","setTimeout","list_node","document","querySelector","wrapperId","active_node","offsetTop","scrollTop","offsetHeight","scroll_to","scrollTo","selectCurrentSelection","currentSelection","selectCurrentSelectionTab","$refs","inputRef","blur","escapeRegExp","string","replace","boldMatchText","text","regexp","RegExp","clearInput","getInput","focusInput","focus","blurInput","computed","_this2","filter","match"],"sources":["/Users/venegrad/Projects/@venegrad/autocomplete/src/ven-autocomplete.vue"],"sourcesContent":["<template>\n\t<div :id=\"wrapperId\" class=\"simple-typeahead\">\n\t\t<input\n\t\t\tref=\"inputRef\"\n\t\t\t:id=\"inputId\"\n\t\t\tclass=\"simple-typeahead-input\"\n\t\t\ttype=\"text\"\n\t\t\t:placeholder=\"placeholder\"\n\t\t\tv-model=\"input\"\n\t\t\t@input=\"onInput\"\n\t\t\t@focus=\"onFocus\"\n\t\t\t@blur=\"onBlur\"\n\t\t\t@keydown.down.prevent=\"onArrowDown\"\n\t\t\t@keydown.up.prevent=\"onArrowUp\"\n\t\t\t@keydown.enter.prevent=\"selectCurrentSelection\"\n\t\t\t@keydown.tab.prevent=\"selectCurrentSelectionTab\"\n\t\t\tautocomplete=\"off\"\n\t\t\tv-bind=\"$attrs\"\n\t\t/>\n\t\t<div v-if=\"isListVisible\" class=\"simple-typeahead-list\">\n\t\t\t<div class=\"simple-typeahead-list-header\" v-if=\"$slots['list-header']\"><slot name=\"list-header\"></slot></div>\n\t\t\t<div\n\t\t\t\tclass=\"simple-typeahead-list-item\"\n\t\t\t\t:class=\"{ 'simple-typeahead-list-item-active': currentSelectionIndex == index }\"\n\t\t\t\tv-for=\"(item, index) in filteredItems\"\n\t\t\t\t:key=\"index\"\n\t\t\t\t@mousedown.prevent\n\t\t\t\t@click=\"selectItem(item)\"\n\t\t\t\t@mouseenter=\"currentSelectionIndex = index\"\n\t\t\t>\n\t\t\t\t<span class=\"simple-typeahead-list-item-text\" :data-text=\"itemProjection(item)\" v-if=\"$slots['list-item-text']\"\n\t\t\t\t\t><slot name=\"list-item-text\" :item=\"item\" :itemProjection=\"itemProjection\" :boldMatchText=\"boldMatchText\"></slot\n\t\t\t\t></span>\n\t\t\t\t<span class=\"simple-typeahead-list-item-text\" :data-text=\"itemProjection(item)\" v-html=\"boldMatchText(itemProjection(item))\" v-else></span>\n\t\t\t</div>\n\t\t\t<div class=\"simple-typeahead-list-footer\" v-if=\"$slots['list-footer']\"><slot name=\"list-footer\"></slot></div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport { defineComponent } from 'vue';\n\n\texport default /*#__PURE__*/ defineComponent({\n\t\tname: 'autocomplete',\n\t\temits: ['onInput', 'onFocus', 'onBlur', 'selectItem'],\n\t\tinheritAttrs: false,\n\t\tprops: {\n\t\t\tid: {\n\t\t\t\ttype: String,\n\t\t\t},\n\t\t\tplaceholder: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\titems: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t\tdefaultItem: {\n\t\t\t\tdefault: null,\n\t\t\t},\n\t\t\titemProjection: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault(item) {\n\t\t\t\t\treturn item;\n\t\t\t\t},\n\t\t\t},\n\t\t\tminInputLength: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 2,\n\t\t\t\tvalidator: (prop) => {\n\t\t\t\t\treturn prop >= 0;\n\t\t\t\t},\n\t\t\t},\n\t\t\tminItemLength: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0,\n\t\t\t\tvalidator: (prop) => {\n\t\t\t\t\treturn prop >= 0;\n\t\t\t\t},\n\t\t\t},\n\t\t\tselectOnTab: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tif (this.defaultItem !== undefined && this.defaultItem !== null) {\n\t\t\t\tthis.selectItem(this.defaultItem);\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinputId: this.id || `simple_typeahead_${(Math.random() * 1000).toFixed()}`,\n\t\t\t\tinput: '',\n\t\t\t\tisInputFocused: false,\n\t\t\t\tcurrentSelectionIndex: 0,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tonInput() {\n\t\t\t\tif (this.isListVisible && this.currentSelectionIndex >= this.filteredItems.length) {\n\t\t\t\t\tthis.currentSelectionIndex = (this.filteredItems.length || 1) - 1;\n\t\t\t\t}\n\t\t\t\tthis.$emit('onInput', { input: this.input, items: this.filteredItems });\n\t\t\t},\n\t\t\tonFocus() {\n\t\t\t\tthis.isInputFocused = true;\n\t\t\t\tthis.$emit('onFocus', { input: this.input, items: this.filteredItems });\n\t\t\t},\n\t\t\tonBlur() {\n\t\t\t\tthis.isInputFocused = false;\n\t\t\t\tthis.$emit('onBlur', { input: this.input, items: this.filteredItems });\n\t\t\t},\n\t\t\tonArrowDown($event) {\n\t\t\t\tif (this.isListVisible && this.currentSelectionIndex < this.filteredItems.length - 1) {\n\t\t\t\t\tthis.currentSelectionIndex++;\n\t\t\t\t}\n\t\t\t\tthis.scrollSelectionIntoView();\n\t\t\t},\n\t\t\tonArrowUp($event) {\n\t\t\t\tif (this.isListVisible && this.currentSelectionIndex > 0) {\n\t\t\t\t\tthis.currentSelectionIndex--;\n\t\t\t\t}\n\t\t\t\tthis.scrollSelectionIntoView();\n\t\t\t},\n\t\t\tscrollSelectionIntoView() {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst list_node = document.querySelector(`#${this.wrapperId} .simple-typeahead-list`);\n\t\t\t\t\tconst active_node = document.querySelector(`#${this.wrapperId} .simple-typeahead-list-item.simple-typeahead-list-item-active`);\n\n\t\t\t\t\tif (!(active_node.offsetTop >= list_node.scrollTop && active_node.offsetTop + active_node.offsetHeight < list_node.scrollTop + list_node.offsetHeight)) {\n\t\t\t\t\t\tlet scroll_to = 0;\n\t\t\t\t\t\tif (active_node.offsetTop > list_node.scrollTop) {\n\t\t\t\t\t\t\tscroll_to = active_node.offsetTop + active_node.offsetHeight - list_node.offsetHeight;\n\t\t\t\t\t\t} else if (active_node.offsetTop < list_node.scrollTop) {\n\t\t\t\t\t\t\tscroll_to = active_node.offsetTop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlist_node.scrollTo(0, scroll_to);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tselectCurrentSelection() {\n\t\t\t\tif (this.currentSelection) {\n\t\t\t\t\tthis.selectItem(this.currentSelection);\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectCurrentSelectionTab() {\n\t\t\t\tif (this.selectOnTab) {\n\t\t\t\t\tthis.selectCurrentSelection();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.inputRef.blur();\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectItem(item) {\n\t\t\t\tthis.input = this.itemProjection(item);\n\t\t\t\tthis.currentSelectionIndex = 0;\n\t\t\t\tthis.$refs.inputRef.blur();\n\t\t\t\tthis.$emit('selectItem', item);\n\t\t\t},\n\t\t\tescapeRegExp(string) {\n\t\t\t\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\t\t\t},\n\t\t\tboldMatchText(text) {\n\t\t\t\tconst regexp = new RegExp(`(${this.escapeRegExp(this.input)})`, 'ig');\n\t\t\t\treturn text.replace(regexp, '<strong>$1</strong>');\n\t\t\t},\n\t\t\tclearInput() {\n\t\t\t\tthis.input = '';\n\t\t\t},\n\t\t\tgetInput() {\n\t\t\t\treturn this.$refs.inputRef;\n\t\t\t},\n\t\t\tfocusInput() {\n\t\t\t\tthis.$refs.inputRef.focus();\n\t\t\t\tthis.onFocus();\n\t\t\t},\n\t\t\tblurInput() {\n\t\t\t\tthis.$refs.inputRef.blur();\n\t\t\t\tthis.onBlur();\n\t\t\t},\n\t\t},\n\t\tcomputed: {\n\t\t\twrapperId() {\n\t\t\t\treturn `${this.inputId}_wrapper`;\n\t\t\t},\n\t\t\tfilteredItems() {\n\t\t\t\tconst regexp = new RegExp(this.escapeRegExp(this.input), 'i');\n\n\t\t\t\treturn this.items.filter((item) => this.itemProjection(item).match(regexp));\n\t\t\t},\n\t\t\tisListVisible() {\n\t\t\t\treturn this.isInputFocused && this.input.length >= this.minInputLength && this.filteredItems.length > this.minItemLength;\n\t\t\t},\n\t\t\tcurrentSelection() {\n\t\t\t\treturn this.isListVisible && this.currentSelectionIndex < this.filteredItems.length ? this.filteredItems[this.currentSelectionIndex] : undefined;\n\t\t\t},\n\t\t},\n\t});\n</script>\n\n<style scoped>\n\t.simple-typeahead {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t}\n\t.simple-typeahead > input {\n\t\tmargin-bottom: 0;\n\t}\n\t.simple-typeahead .simple-typeahead-list {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tborder: none;\n\t\tmax-height: 400px;\n\t\toverflow-y: auto;\n\t\tborder-bottom: 0.1rem solid #d1d1d1;\n\t\tz-index: 9;\n\t}\n\t.simple-typeahead .simple-typeahead-list .simple-typeahead-list-header {\n\t\tbackground-color: #fafafa;\n\t\tpadding: 0.6rem 1rem;\n\t\tborder-bottom: 0.1rem solid #d1d1d1;\n\t\tborder-left: 0.1rem solid #d1d1d1;\n\t\tborder-right: 0.1rem solid #d1d1d1;\n\t}\n\t.simple-typeahead .simple-typeahead-list .simple-typeahead-list-footer {\n\t\tbackground-color: #fafafa;\n\t\tpadding: 0.6rem 1rem;\n\t\tborder-left: 0.1rem solid #d1d1d1;\n\t\tborder-right: 0.1rem solid #d1d1d1;\n\t}\n\t.simple-typeahead .simple-typeahead-list .simple-typeahead-list-item {\n\t\tcursor: pointer;\n\t\tbackground-color: #fafafa;\n\t\tpadding: 0.6rem 1rem;\n\t\tborder-bottom: 0.1rem solid #d1d1d1;\n\t\tborder-left: 0.1rem solid #d1d1d1;\n\t\tborder-right: 0.1rem solid #d1d1d1;\n\t}\n\n\t.simple-typeahead .simple-typeahead-list .simple-typeahead-list-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.simple-typeahead .simple-typeahead-list .simple-typeahead-list-item.simple-typeahead-list-item-active {\n\t\tbackground-color: #e1e1e1;\n\t}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}